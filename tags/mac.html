<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><link rel=stylesheet href=/blog.css><link rel="shortcut icon" href=/favicon.ico type=image/x-icon><title>mac</title><link rel=canonical href=/tags/mac.html><link rel=alternate type=application/rss+xml href=/tags/mac/index.xml title=ebullient·works></head><body><div class=wrapper><header class=page-header><h1><a href=/>ebullient·works</a></h1><div>[ <a href=/about/>About</a> &#183; <a href=/archive/>Archive</a> ]</div></header><h1>Posts</h1><article><h2>Which gradle...</h2><p>I am lazy. My fingers have habits that are sometimes hard to change.</p><p>I've learned to type <code>gradle</code>, like all the time. Now I need to use <code>gradlew</code>, and for some reason this is difficult.</p><p>So I wrote a script, that I've now aliased (whichGradle is now obviously on my path):<br>alias gradle='whichGradle'</p><p>which just does this:</p><pre class=bigblock><code>if [ -x $PWD/gradlew ]; then
  echo Using $PWD/gradlew
  $PWD/gradlew $@
else
  echo Using `which gradle`
  gradle $@
fi
</code></pre></article><article><h2>Docker script for AnyConnect on OSX</h2><p>I am queen of laziness, and I have to use AnyConnect, and that screws with Docker, and then I have to go looking to remember the magic incantation to get things right...</p><p>Who has time for that?</p><p>I made a script that wraps the whole thing up and reminds me what I should do when it doesn't work.</p><p>Instead of:<br><code>> docker-machine env default</code><br>I do this instead, and the script does the rest:<br><code>> . dockerEnv</code></p><p>The contents of the script are pretty trivial (I am sure shell wizards can find plenty wrong with it, starting with the direct reference to bash, but whatever. Laziness, right?):</p><pre><code>#!/bin/bash
UP=`docker-machine status default`
if [ "$UP" != "Running" ] ; then
    echo "Starting default docker VM"
    docker-machine start default
fi

eval "$(docker-machine env default)"
export DM_IP=$(docker-machine ip default)
echo $DM_IP

DM_SUBNET=192.168.$(echo $DM_IP| cut -d'.' -f 3)
RESULT=`netstat -rn | grep $DM_SUBNET | grep vboxnet`
if [ "$RESULT" = "" ] ; then
    echo "Adding route for vboxnet0"
    sudo route -nv add -net $DM_SUBNET -interface vboxnet0
    RESULT=`netstat -rn | grep $DM_SUBNET | grep vboxnet`
    if [ $RESULT = "" ] ; then
        echo "Quit AnyConnect and re-run this script."
        exit
    fi
fi
docker-machine ls
</code></pre><p class=small>[edit on 3 Sept: updated for even better-ness. Laziness rocks.]</p></article><article><h2>Crib notes: Docker on OSX</h2><p>Of course I'm messing with Docker (isn't everyone)? But as most people using OS X are discovering, there are some hiccups. Here are some notes for myself (and perhaps for others) about what is required to make docker work well on OS X:</p><ul><li><a href=http://viget.com/extend/how-to-use-docker-on-os-x-the-missing-guide>How to Use Docker on OS X: The Missing Guide</a><ul><li>Most helpful (and a simultaneous &#8216;duh' moment) was his reminder: boot2docker is the host image for docker on OS X, so when docker maps ports, it maps them to boot2docker, and not to OS X itself. So there are some extra things that need to be done to make that work. He has lots of useful suggestions.</li></ul></li></ul><ul><li>I also use AnyConnect, which introduces it's own fun, as it likes to rewrite the routing table for giggles. I am thankfully <a href=https://github.com/boot2docker/boot2docker/issues/392#issuecomment-61999567>not the only one with this problem</a>. So there were good things to be gleaned here, too.</li></ul></article><article><h2>Updating to Yosemite: clean install with a clever backup</h2><p>I upgraded my iMac (which is aging, sadly) to Yosemite while taking a break from work.</p><p>I wanted to do a clean install: the drive had two partitions, one an old windows partition that we don't use anymore, and the other was full of crap from years of trying out apps and the migration from Snow Leopard to Lion to Mountain Lion to Mavericks, etc.</p><p>I wanted to make a full backup, so I could recover all of my settings and go scrounge around for files that I missed, etc., but I didn't want to clone a drive. I stumbled on these:</p><ul><li><a href=http://www.theinstructional.com/guides/disk-management-from-the-command-line-part-3>Disk Management from the Command-Line,</a></li><li><a href=http://osxdaily.com/2012/05/23/create-disk-image-of-mac-hard-drive/>How to create a disk image of an entire mac hard drive</a></li></ul><p>Can you see my plan? It worked very well.</p><p>I did have to boot into recovery mode (I had a bootable <span class=caps>USB</span> drive with the Yosemite installer on it, so I just used that), and I did use the command line instead of working through disk utility, though I believe either would have worked.</p><pre>&gt; hdiutil create /Volumes/External-USB/full-backup.dmg -srcdevice /dev/disk0s2</pre><p>I did have trouble with the windows partition, but we haven't used it in so long that I just made an image of the Documents & Settings folder, and called it a night.</p><p>After wiping the drive and putting Yosemite on, I was able to raid the *.dmg for apps and settings, etc. (I am sure I could have used the data migration utility, but I was trying to ditch the cruft&#8230; so I was selective. I have the dmg to refer to if I find something missing).</p><p>Whee!</p></article><article><h2>Ejecting the CD when things are hosed...</h2><p>So, in starting to set up bootcamp, I totally managed to f something up! (Yes, I can even break a Mac). I tried the usual turn off / turn on the machine, and CRAP! the CD is still in the drive, and it HAS NO BUTTONS. Eject is totally software driven.</p><p>Thankfully, someone already <a href=http://www.associatedcontent.com/article/4363/ejecting_a_stuck_cd_in_mac_osx.html>took the time to list</a> all of the interesting things you should try to get your CD back. Number 3 did the trick.</p><blockquote><ol><li>The iTunes eject button</li><li>Disk Utility ...</li><li>Hold down mouse button at startup</li><li>Hold down C key at startup</li><li>Start up into Open Firmware ...</li><li>Start up in Target FireWire mode ...</li><li>Start up from another machine</li><li>Take your machine to an Apple Store</li></ol></blockquote></article><article><h2>Happy Solstice!</h2><p>The longest night of the year has come.. the shortest day of the year is done, and I... well.</p><p>So there was this box. It got shipped here a little while ago. It's large, squarish, and only about a foot and a half deep. It's been sitting in the dining room by the skimpily ornamented Norfolk pine and the tiny Meyer lemon tree (which is just beside itself with lemons on the make, but that's another story).</p><p>Chris was very careful that I not see anything about it (I also was honest and didn't go looking.. I mean, what's the fun of that?), but he has asked me to guess what it was.. "A spare tire", "A wall-hanging jewelry closet", "A mirror"... The closest I could come (and I didn't think I had a chance in hell of it being so) was a big beautiful LCD monitor to replace the monstrosity on my desk downstairs.</p><p>And Lo! it was a big beautiful LCD monitor.. complete with a bluetooth wireless keyboard and mouse. My husband, that wonderful man, gifted me an iMac.</p><p><i>Yesss..</i></p></article></div><footer class=page-footer><div id=copyrights>&#169; 2002-2021 Erin Schnabel</div><div><a target=_blank href=https://github.com/ebullient title="ebullient on GitHub"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1664 896q0 251-146.5 451.5T1139 1625q-27 5-39.5-7t-12.5-30v-211q0-97-52-142 57-6 102.5-18t94-39 81-66.5 53-105T1386 856q0-121-79-206 37-91-8-204-28-9-81 11t-92 44l-38 24q-93-26-192-26t-192 26q-16-11-42.5-27T578 459.5 492 446q-44 113-7 204-79 85-79 206 0 85 20.5 150t52.5 105 80.5 67 94 39 102.5 18q-40 36-49 103-21 10-45 15t-57 5-65.5-21.5T484 1274q-19-32-48.5-52t-49.5-24l-20-3q-21 0-29 4.5t-5 11.5 9 14 13 12l7 5q22 10 43.5 38t31.5 51l10 23q13 38 44 61.5t67 30 69.5 7 55.5-3.5l23-4q0 38 .5 89t.5 54q0 18-13 30t-40 7q-232-77-378.5-277.5T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z" fill="#fff"/></svg></a><a target=_blank href=https://twitter.com/ebullientworks title="Follow @ebullientworks"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1684 408q-67 98-162 167 1 14 1 42 0 130-38 259.5T1369.5 1125 1185 1335.5t-258 146-323 54.5q-271 0-496-145 35 4 78 4 225 0 401-138-105-2-188-64.5T285 1033q33 5 61 5 43 0 85-11-112-23-185.5-111.5T172 710v-4q68 38 146 41-66-44-105-115t-39-154q0-88 44-163 121 149 294.5 238.5T884 653q-8-38-8-74 0-134 94.5-228.5T1199 256q140 0 236 102 109-21 205-78-37 115-142 178 93-10 186-50z" fill="#fff"/></svg></a><a target=_blank href=https://www.linkedin.com/in/erinschnabel/ title="Erin Schnabel on linked.in"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z" fill="#fff"/></svg></a><a target=_blank href=https://gameontext.org/slackin/ title="ebullient on gameontext.slack.com"><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M1583 776q62 0 103.5 40.5T1728 918q0 97-93 130l-172 59 56 167q7 21 7 47 0 59-42 102t-101 43q-47 0-85.5-27t-53.5-72l-55-165-310 106 55 164q8 24 8 47 0 59-42 102t-102 43q-47 0-85-27t-53-72l-55-163-153 53q-29 9-50 9-61 0-101.5-40T260 1323q0-47 27.5-85t71.5-53l156-53-105-313-156 54q-26 8-48 8-60 0-101-40.5T64 740q0-47 27.5-85t71.5-53l157-53-53-159q-8-24-8-47 0-60 42-102.5T403 198q47 0 85 27t53 72l54 160 310-105-54-160q-8-24-8-47 0-59 42.5-102T987 0q47 0 85.5 27.5T1126 99l53 161 162-55q21-6 43-6 60 0 102.5 39.5T1529 337q0 45-30 81.5t-74 51.5l-157 54 105 316 164-56q24-8 46-8zm-794 262 310-105-105-315-310 107z" fill="#fff"/></svg></a><a target=_blank href=https://pinboard.in/u:ebullient title=pinboard.in><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 25 25" enable-background="new 0 0 25 25"><polygon fill="#fff" points="13.908,14.85 9.211,19.547 9.961,15.412 3.571,7.706 0,7.894 7.895,0 7.895,3.007 15.412,9.773 20.111,8.647 15.227,13.721 25,24.436"/></svg></a><a target=_blank href=/index.xml title=Subscribe><svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"><path d="M576 1344q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm512 123q2 28-17 48-18 21-47 21H889q-25 0-43-16.5t-20-41.5q-22-229-184.5-391.5T250 902q-25-2-41.5-20T192 839V704q0-29 21-47 17-17 43-17h5q160 13 306 80.5T826 902q114 113 181.5 259t80.5 306zm512 2q2 27-18 47-18 20-46 20h-143q-26 0-44.5-17.5T1329 1476q-12-215-101-408.5t-231.5-336-336-231.5T252 398q-25-1-42.5-19.5T192 335V192q0-28 20-46 18-18 44-18h3q262 13 501.5 120T1186 542q187 186 294 425.5t120 501.5z" fill="#fff"/></svg></a></div></footer><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-1146860-5','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script></body></html>